### Chap1



##### 자바 어플리케이션을 사용하여 개발 할 시 데이터 베이스에 접근하기 위해 JDBC 라이브러리를 사용

- SQL문을 작성 -> JDBC를 사용하여 SQL실행 -> 결과를 객체에 직접 매핑
  - 즉 테이블이 많으면 많을 수 록 SQL문이 많아진다
  - 컬럼이 추가 혹은 변경시 SQL문을 다시 수정해야 한다
  - 불필요한 반복적인 작업이 많아 지며 유지 보수 측면에서 좋지 않다고 생각한다..



##### 패러다임 불일치

- 객체와 관계형 데이터베이스는 지향하는 목적이 서로 다르므로 둘의 기능과 표현 방법이 다르다

  - 데이터베이스는 데이터 중심의 구조화
  - 객체지향에서 중요한 상속 , 추상화의 개념이 없다.

- 객체는 참조를 사용하여 참조에 접근하여 연관된 객체를 조회한다. -> 테이블은 외래키를 사용하여 연관된 테이블을 조회

  - jpa는 참조를 외래 키로 변환하여 insert sql을 데이터 베이스에 전달한다.
  - 객체를 조회 할 때 외리키를 참조로 변환 하는 일도 jpa가 처리

- SQL을 직접 다루게 되면 쿼리문에 따라 객체 그래프 탐색에 제한이 있다.

  - 객체 그래프란 참조를 사용하여 연관된 객체를 찾는것이다.

    ![1535970218999](/tmp/1535970218999.png)

  - JPA는 지연 로딩을 통해 위 문제를 해결

    - 연관된 객체를 사용하는 시점에 select문을 실행하여 연관된 객체를 불러옴

#### 즉 객체와 관계형 데이터 베이스간에 패러다임 불일치를 해결 하기 위한 것이 JPA





##### JPA

- JPA를 사용하면 개발자가 직접 crud에 관한 쿼리를 작성 하지 않아도 JPA가 제공하는 API를 사용하면 된다
  - INSERT -> persist
    - jpa가 객체와 매핑정보를 보고 적절한 insert문을 생성하여 데이터 베이스에 전달
  - find
    - 객체 하나를 데이터 베이스에서 조회
  - jpa는 별도의 수정 메소드를 제공하지 않는다 
    - find를 통해 객체를 조회한후 필드 값을 변경하면 트랜잭션이 커밋 될때 객체의 값이 변경 되어 update 문을 수행 한다.
- 자바 진영의 orm기술
  - orm 이란 
    - 객체와 관계형 데이터베이스를 매핑
    - 패러다임 불일치 문제를 대신 해결
  - hibernate는 orm기술의 구현체 이다.
- jpa장점
  - jdbc를 사용했을때 반복적인 crud sql문 작성을 jpa가 대신처리
  - jdbc를 사용했을 때 객체의 필드 변경시 모든 쿼리문을 수정
    - 유지 보수 측면
  - 패러다임 불일치 해결



